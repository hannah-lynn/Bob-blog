---
import ArticleCard from "@components/ArticleCard.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import { Frontmatter, sortDateDescending } from "src/misc";

const allPosts = await Astro.glob<Frontmatter>("../pages/blog/articles/*.md");
const posts = sortDateDescending(
	allPosts.filter((post) => post.frontmatter.draft != true)
).slice(0, 3);
---

<BaseLayout title="Home" activeLink="home">
	<div class="bg-white p-0 m-0">
		<section
			class="flex flex-col justify-center sm:flex-row justify-center max-w-[90%] w-[52rem] mx-auto gap-12 mb-5"
		>
			<div class="flex flex-col flex-wrap flex-grow">
				<h1
					class="text-center bg-gradient-to-r from-gray-400 to-gray-900 bg-clip-text text-transparent text-5xl mb-[0.7em]"
				>
					Visual <span class="font-bold">Vortex</span>
				</h1>
				<p class="text-center">
					Hub for the online portfolios of creatives
				</p>
			</div>
		</section>
	</div>
	<section
		class="flex flex-col justify-center sm:flex-row justify-center max-w-[90%] w-[52rem] mx-auto gap-12 mb-5"
	>
		<img
			src="images/creative.jpg"
			alt="avatar"
			class=""
			style="z-index:0"
		/>
	</section>
	<section>
		<h2
			class="mx-auto text-center mb-8 bg-gradient-orange text-transparent bg-clip-text text-4xl border-b-2 border-gray-700 font-semibold w-fit"
		>
			Menu
		</h2>

		<div class="flex flex-wrap flex-col justify-center gap-12">
			{posts.map((post) => <ArticleCard content={post} />)}
		</div>
	</section>
</BaseLayout>
